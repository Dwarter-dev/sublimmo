{% extends 'base.html.twig' %}

{% block title %}Maison{% endblock %}

{% block body %}

<header class="container-fluid p-5 text-center bg-light">
  <h1>SUBL'IMMO - Toutes les Maisons</h1>
  <h2>L'agence Immobilière 100% en ligne et accesible</h2>
</header>

<main class="container-fluid"></main>

<div class="container-fluid">
    <div class="row p-5">
      <div class="col-8 offset-2">
        <img src="{{ asset('img/maisons/' ~ maison.img1) }}" class="card-img-top" alt="Photo principale {{maison.title}}" class="w-100">
        <div class="card-body">
          <h5 class="card-title">{{maison.title}}</h5>
          <p class="card-text">{{maison.description|u.truncate(90, '...', false)}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Surface : {{maison.surface}} m²</li>
          <li class="list-group-item">Pièces : {{maison.rooms}} dont {{maison.bedrooms}} chambres(s)</li>
          <li class="list-group-item">Prix : {{maison.price|number_format(0, ',', ' ')}} €</li>
        </ul>
      </div>
      {% if maison.img2 is not null %} <!-- Si il y a la présence d'une seconde image-->
      <div class="col-8 offset-2">
        <h2 class="py-3">Autre photos</h2>
        <img src="{{ asset('img/maisons/' ~ maison.img2) }}" class="card-img-top" alt="Photo principale {{maison.title}}" class="w-50">
      </div>
      {% endif %}
      {% if maison.comments is not empty %} <!-- Si il y a la présence d'une seconde image-->
      <div class="col-8 offset-2">
        <h2 class="py-3">Commentaires</h2>
        <ul>
          {% for commentaires in maison.comments %}
            <li>- {{ commentaires.comment }}</li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
      <div class="col-8 offset-2 text-end">
        <a href="{{ path( 'cart_add', {'id': maison.id} ) }}" class="btn btn-success"> Ajouter au panier</a>
      </div>
    </div>
</div>
{% endblock %}
